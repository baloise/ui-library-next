<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="stylesheet" href="/build/ui-library-next.css" />
    <script type="module" src="/build/ui-library-next.esm.js"></script>
    <script nomodule src="/build/ui-library-next.js"></script>
  </head>
  <body class="bal-app">
    <div class="container">
      <h1 class="title is-size-1">Dropdown</h1>
      <h2 class="title is-size-2">Basic</h2>
      <bal-dropdown id="bal-dropdown" scrollable is-active="false">
        <bal-button
          id="bal-dropdown-trigger"
          slot="trigger"
          aria-haspopup="true"
          aria-controls="dropdown-menu"
          type="is-info"
          outlined
          icon-right="caret-down"
        >
          <span id="bal-dropdown-trigger-label">Trigger</span>
        </bal-button>
      </bal-dropdown>
      <script>
        var dropdown = document.getElementById('bal-dropdown')
        var trigger = document.getElementById('bal-dropdown-trigger')
        var triggerLabel = document.getElementById('bal-dropdown-trigger-label')

        var options = [
          { text: 'Ant-Man', value: 1 },
          { text: 'Spider-Man', value: 2 },
        ]
        for (let index = 0; index < options.length; index++) {
          var option = options[index]
          var el = document.createElement('bal-dropdown-option')
          var label = document.createElement('span')
          label.innerHTML = option.text
          el.value = option
          el.appendChild(label)
          dropdown.appendChild(el)
          el.addEventListener('click', function () {
            dropdown.setAttribute('is-active', false)
          })
        }

        dropdown.addEventListener('balChange', function (evnet) {
          triggerLabel.innerHTML = evnet.detail.text
        })

        trigger.addEventListener('click', function (event) {
          var isActive = dropdown.getAttribute('is-active') == 'true'
          dropdown.setAttribute('is-active', !isActive)
        })
      </script>

      <h2 class="title is-size-2">With an input</h2>
      <bal-dropdown id="bal-dropdown-2" scrollable is-active="false">
        <div class="control has-icons-right" slot="trigger">
          <input id="bal-dropdown-trigger-2" class="input clickable" readonly />
          <bal-icon size="medium" name="caret-down" is-right />
        </div>

        <bal-dropdown-option value="Ant-Man">Ant-Man</bal-dropdown-option>
        <bal-dropdown-option value="Spider-Man">Spider-Man</bal-dropdown-option>
        <bal-dropdown-option value="Iron Man">Iron Man</bal-dropdown-option>
      </bal-dropdown>
      <script>
        var dropdown2 = document.getElementById('bal-dropdown-2')
        var trigger2 = document.getElementById('bal-dropdown-trigger-2')

        dropdown2.addEventListener('balChange', function (evnet) {
          trigger2.value = evnet.detail
        })

        trigger2.addEventListener('click', function (event) {
          var isActive = dropdown2.getAttribute('is-active') == 'true'
          dropdown2.setAttribute('is-active', !isActive)
        })
      </script>
    </div>
  </body>
</html>
